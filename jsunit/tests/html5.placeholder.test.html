<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

  <head>

    <title>HTML5 Emulator: Placeholder Test</title>
    <script type="text/javascript" src="../app/jsUnitCore.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
    <script type="text/javascript" src="../lib/html5.placeholder.js"></script>
    <script type="text/javascript">
      var emulator = null;
      var content = null;
      var input = null;
      
      function setUp(){
        emulator = new Html5Emulator();
        content = $('<div id="content"></div>')
        content.append("<input type='text' id='foo' name='foo' placeholder='Enter Something Here'>");
        input = content.find('#foo');
      }
      
      function testInputValueGetsPopulatedWithPlaceholderContents(){        
        emulator.emulatePlaceholders(content);
        
        assertEquals("Enter Something Here", input.val());
      }
      
      function testInputClearsOnFocus(){
        emulator.emulatePlaceholders(content);
        
        input.focus();
        
        assertEquals("", input.val());        
      }
      function testPlaceholderValueReturnsOnBlurIfBlank(){
        emulator.emulatePlaceholders(content);
        "Something Cool"
        input.focus();
        input.blur();
        
        assertEquals("Enter Something Here", input.val());      
      }
      
      function testValueRemainsOnBlurIfItDiffersFromThePlaceholderText(){
        emulator.emulatePlaceholders(content);
        
        input.focus();
        input.val("Something Cool");
        input.blur();
        
        assertEquals("Something Cool", input.val());      
      }
    </script>
  </head>

  <body>

  </body>

</html>

